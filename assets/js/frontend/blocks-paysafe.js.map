{"version":3,"file":"frontend/blocks-paysafe.js","mappings":"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","sources":["webpack://paysafe-checkout/external window [\"wc\",\"wcBlocksRegistry\"]","webpack://paysafe-checkout/external window [\"wc\",\"wcSettings\"]","webpack://paysafe-checkout/external window [\"wp\",\"element\"]","webpack://paysafe-checkout/external window [\"wp\",\"htmlEntities\"]","webpack://paysafe-checkout/external window [\"wp\",\"i18n\"]","webpack://paysafe-checkout/external window \"React\"","webpack://paysafe-checkout/webpack/bootstrap","webpack://paysafe-checkout/webpack/runtime/compat get default export","webpack://paysafe-checkout/webpack/runtime/define property getters","webpack://paysafe-checkout/webpack/runtime/hasOwnProperty shorthand","webpack://paysafe-checkout/webpack/runtime/make namespace object","webpack://paysafe-checkout/./resources/js/frontend/paysafe.js"],"sourcesContent":["module.exports = window[\"wc\"][\"wcBlocksRegistry\"];","module.exports = window[\"wc\"][\"wcSettings\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { sprintf, __ } from '@wordpress/i18n';\r\nimport { registerPaymentMethod } from '@woocommerce/blocks-registry';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { getSetting } from '@woocommerce/settings';\r\nimport { useEffect } from '@wordpress/element'\r\n\r\nconst paymentMethodId = \"paysafe\";\r\n\r\nconst defaultLabel = 'Paysafe Checkout';\r\n\r\nconst settings = getSetting( 'paysafe_data', {} );\r\n\r\nconst log_paysafe_error = function(message, context) {\r\n    if (settings.log_errors === true && settings.log_error_endpoint) {\r\n        fetch(\r\n            settings.log_error_endpoint,\r\n            {\r\n                method: 'POST',\r\n                credentials: 'same-origin',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                }),\r\n                body: JSON.stringify({\r\n                    message: message,\r\n                    context: context,\r\n                }),\r\n            })\r\n            .catch((error) => {});\r\n    }\r\n}\r\n\r\nconst is_hosted_integration = settings.integration_type === 'paysafe_js';\r\nlet is_cvv_verification = !!settings.cvv_verification;\r\n\r\nconst label = decodeEntities( settings.title ) || defaultLabel;\r\nconst icons = [\r\n    {\r\n        id: 'paysafe-icon',\r\n        src: settings.icon,\r\n        alt: label,\r\n    }\r\n];\r\n\r\nconst Label = () => {\r\n    return (\r\n        <div className={'paysafe-gateway-title'}>\r\n            <span>{ label }</span>\r\n            <img\r\n                className={'paysafe-gateway-image'}\r\n                src={ settings.icon }\r\n                alt={ label }\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nlet paymentAmount = 0;\r\nlet currentCartData = {};\r\nlet next_page = null;\r\n\r\nconst show_checkout_error = function(error_message, dont_clear_messages) {\r\n    let woo_errors = document.getElementsByClassName('woocommerce-error');\r\n    woo_errors = woo_errors.length > 0 ? woo_errors[0] : null;\r\n\r\n    if (!woo_errors) {\r\n        let notice_wrappers = document.getElementsByClassName('woocommerce-notices-wrapper');\r\n        let notice_wrapper = notice_wrappers.length > 0 ? notice_wrappers[0] : null;\r\n        if (notice_wrapper) {\r\n            woo_errors = document.createElement('ul');\r\n            woo_errors.className = 'woocommerce-error';\r\n\r\n            notice_wrapper.appendChild(woo_errors);\r\n        }\r\n    }\r\n\r\n    if (woo_errors) {\r\n        let error_li = document.getElementById('paysafe-fatal-error-message');\r\n        if (!error_li || !!dont_clear_messages) {\r\n            error_li = document.createElement('li');\r\n            error_li.setAttribute('id', 'paysafe-fatal-error-message');\r\n            error_li.innerHTML = error_message;\r\n            woo_errors.appendChild(error_li);\r\n\r\n            window.scrollTo({\r\n                top: 0,\r\n                left: 0,\r\n                behavior: \"smooth\",\r\n            });\r\n        } else {\r\n            error_li.innerHTML = error_message;\r\n        }\r\n    }\r\n}\r\n\r\nlet hostedPaymentInstance;\r\nconst init_paysafe_hosted_integration = function() {\r\n    // if the page doesn't have the form, don't load it\r\n    if (!jQuery('#paysafe-hosted-payment-form').length) {\r\n        return;\r\n    }\r\n\r\n    // reset the CVV field initialization for saved cards\r\n    cvv_form_initialized = false;\r\n\r\n    const paysafeOptions = {\r\n        // You must provide currencyCode to the Paysafe JS SDK to enable the Payment API integration\r\n        currencyCode: settings.currency_code,\r\n\r\n        // select the Paysafe test / sandbox environment\r\n        environment: settings.test_mode ? 'TEST' : 'LIVE',\r\n\r\n        transactionSource: 'WooCommerceJs',\r\n\r\n        // set the CSS selectors to identify the payment field divs above\r\n        // set the placeholder text to display in these fields\r\n        fields: {\r\n            cardNumber: {\r\n                selector: '#cardNumber',\r\n                placeholder: 'Card number',\r\n                separator: ' ',\r\n            },\r\n            expiryDate: {\r\n                selector: '#expiryDate',\r\n                placeholder: 'MM/YY',\r\n            },\r\n            cvv: {\r\n                selector: '#cvv',\r\n                placeholder: 'CVV',\r\n                optional: false,\r\n            },\r\n        },\r\n        style: {\r\n            input: {\r\n                \"font-family\": \"sans-serif\",\r\n                \"font-weight\": \"normal\",\r\n                \"font-size\": \"16px\"\r\n            }\r\n        },\r\n        accounts: {\r\n            default: settings.account_id,\r\n        },\r\n    };\r\n\r\n    // initialize the hosted iframes using the SDK setup function\r\n    paysafe.fields\r\n        .setup(\r\n            settings.authorization,\r\n            paysafeOptions\r\n        )\r\n        .then(instance => {\r\n            hostedPaymentInstance = instance;\r\n            return instance.show();\r\n        })\r\n        .then(paymentMethods => {\r\n            if (paymentMethods.card && !paymentMethods.card.error) {\r\n                // When the customer clicks Pay Now,\r\n                // call the SDK tokenize function to create\r\n                // a single-use payment token corresponding to the card details entered\r\n            }\r\n        })\r\n        .catch(error => {\r\n            // this means that the initialization of the form failed,\r\n            // disable this payment method\r\n            const error_message = 'ERROR ' + error.code + ': ' + error.detailedMessage;\r\n\r\n            log_paysafe_error(error_message, []);\r\n            show_checkout_error(error_message);\r\n        });\r\n}\r\n\r\nlet cvv_verification_instance = null;\r\nlet cvv_form_initialized = false;\r\nconst init_paysafe_cvv_verification = function() {\r\n    // if the page doesn't have the form, don't load it\r\n    if (!jQuery('#cvv-verification-container').length) {\r\n        return;\r\n    }\r\n\r\n    // mark that the CVV initialization has been done\r\n    cvv_form_initialized = true;\r\n    cvv_verification_instance = null;\r\n\r\n    const paysafe_js_options = {\r\n        // You must provide currencyCode to the Paysafe JS SDK to enable the Payment API integration\r\n        currencyCode: settings.currency_code,\r\n\r\n        // select the Paysafe test / sandbox environment\r\n        environment: settings.test_mode ? 'TEST' : 'LIVE',\r\n\r\n        transactionSource: 'WooCommerceJs',\r\n\r\n        fields: {\r\n            cardNumber: {\r\n                selector: '#cardNumber',\r\n                placeholder: 'Card number',\r\n                separator: ' ',\r\n                optional: true,\r\n            },\r\n            expiryDate: {\r\n                selector: '#expiryDate',\r\n                placeholder: 'MM/YY',\r\n                optional: true,\r\n            },\r\n            cvv: {\r\n                selector: '#cvv',\r\n                placeholder: 'CVV',\r\n                optional: !is_cvv_verification,\r\n            },\r\n        },\r\n        accounts: {\r\n            default: settings.account_id,\r\n        },\r\n    };\r\n\r\n    // if the CVV verification is not enabled, don't load it\r\n    if (typeof paysafe === 'undefined' || typeof paysafe.fields === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    // initialize the hosted iframes using the SDK setup function\r\n    paysafe.fields\r\n        .setup(\r\n            settings.authorization,\r\n            paysafe_js_options\r\n        )\r\n        .then(instance => {\r\n            cvv_verification_instance = instance;\r\n            return instance.show();\r\n        })\r\n        .then(paymentMethods => {\r\n            if (paymentMethods.card && !paymentMethods.card.error) {\r\n                // When the customer clicks Pay Now,\r\n                // call the SDK tokenize function to create\r\n                // a single-use payment token corresponding to the card details entered\r\n            }\r\n        })\r\n        .catch(error => {\r\n            // this means that the initialization of the form failed,\r\n            // disable this payment method\r\n            const error_message = 'ERROR ' + error.code + ': ' + error.detailedMessage;\r\n            log_paysafe_error(error_message, []);\r\n\r\n            if (parseInt(error.code) === 9073 && is_cvv_verification) {\r\n                // account not configured properly\r\n                is_cvv_verification = false;\r\n                init_paysafe_cvv_verification();\r\n            }\r\n        });\r\n}\r\n\r\nconst Content = ( props ) => {\r\n    const { eventRegistration, emitResponse } = props;\r\n    const { onCheckoutSuccess, onPaymentSetup } = eventRegistration;\r\n\r\n    useEffect(() => {\r\n        if (is_cvv_verification) {\r\n            // reset the CVV field initialization for saved cards\r\n            cvv_form_initialized = false;\r\n        }\r\n        if (is_hosted_integration) {\r\n            init_paysafe_hosted_integration();\r\n        }\r\n\r\n        const unsubscribe = onPaymentSetup( async (response) => {\r\n            if (is_hosted_integration) {\r\n                if (hostedPaymentInstance) {\r\n                    // check if the hosted integration is filled in and the data is valid\r\n                    let isTokenizationAvailable = hostedPaymentInstance.areAllFieldsValid();\r\n                    if (isTokenizationAvailable) {\r\n                        let holderNameInput = document.getElementById('holderNameInput');\r\n                        let isHolderNameValid = holderNameInput && holderNameInput.value && holderNameInput.value.length && holderNameInput.value.length >= 2 && holderNameInput.value.length <= 160;\r\n\r\n                        if (isHolderNameValid) {\r\n                            return {\r\n                                type: emitResponse.responseTypes.SUCCESS,\r\n                            };\r\n                        } else {\r\n                            log_paysafe_error(__(\"The payment process failed. Card holder name must have between 2 and 160 characters!\", \"paysafe-checkout\"), {'tokenization_stage': 2});\r\n                            return {\r\n                                type: emitResponse.responseTypes.ERROR,\r\n                                message: __(\"The payment process failed. Card holder name must have between 2 and 160 characters!\", \"paysafe-checkout\"),\r\n                            };\r\n                        }\r\n                    } else {\r\n                        log_paysafe_error(__(\"The payment process failed. Card holder name must have between 2 and 160 characters!\", \"paysafe-checkout\"), {'tokenization_stage': 2});\r\n                        return {\r\n                            type: emitResponse.responseTypes.ERROR,\r\n                            message: __(\"The payment process failed. Please enter your card details and try again\", \"paysafe-checkout\"),\r\n                        };\r\n                    }\r\n                } else {\r\n                    log_paysafe_error(__(\"The payment process failed.\", \"paysafe-checkout\"), {'tokenization_stage': 3});\r\n                    return {\r\n                        type: emitResponse.responseTypes.ERROR,\r\n                        message: __(\"The payment process failed. Please reload the page and try again\", \"paysafe-checkout\"),\r\n                    };\r\n                }\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        };\r\n    }, [\r\n        emitResponse.responseTypes.ERROR,\r\n        emitResponse.responseTypes.SUCCESS,\r\n        onPaymentSetup\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onCheckoutSuccess( (response) => {\r\n            const orderId = response.orderId;\r\n            const customerSingleUseToken = response && response.processingResponse && response.processingResponse.paymentDetails && response.processingResponse.paymentDetails.single_use_token ? response.processingResponse.paymentDetails.single_use_token : '';\r\n            const merch_ref_num = response && response.processingResponse && response.processingResponse.paymentDetails && response.processingResponse.paymentDetails.merch_ref_num ? response.processingResponse.paymentDetails.merch_ref_num : '';\r\n\r\n            let master_error = null;\r\n\r\n            paymentAmount = parseInt(currentCartData.cartTotals.total_price);\r\n\r\n            if (orderId && paymentAmount) {\r\n                let currency_code = currentCartData.cartTotals.currency_code;\r\n                let customer_first_name = currentCartData.billingAddress.first_name;\r\n                let customer_last_name = currentCartData.billingAddress.last_name;\r\n                let customer_email = currentCartData.billingAddress.email;\r\n\r\n                let billing_street = currentCartData.billingAddress.address_1;\r\n                let billing_street2 = currentCartData.billingAddress.address_2;\r\n                let billing_city = currentCartData.billingAddress.city;\r\n                let billing_zip = currentCartData.billingAddress.postcode;\r\n                let billing_state = currentCartData.billingAddress.state;\r\n                let billing_country = currentCartData.billingAddress.country;\r\n                let billing_phone = currentCartData.billingAddress.phone;\r\n\r\n                if (is_hosted_integration) {\r\n                    let tokenizationOptions = {\r\n                        transactionSource: 'WooCommerceJs',\r\n                        amount: paymentAmount,\r\n                        transactionType: 'PAYMENT',\r\n                        currency: currency_code,\r\n                        merchantRefNum: merch_ref_num,\r\n                        environment: settings.test_mode ? 'TEST' : 'LIVE',\r\n                        threeDs: {\r\n                            merchantUrl: settings.checkout_url,\r\n                            deviceChannel: \"BROWSER\",\r\n                            messageCategory: \"PAYMENT\",\r\n                            authenticationPurpose: \"PAYMENT_TRANSACTION\",\r\n                            transactionIntent: \"GOODS_OR_SERVICE_PURCHASE\",\r\n                            profile: {\r\n                                email: settings.user_email,\r\n                            },\r\n                        },\r\n                        paymentType: 'CARD',\r\n                        accountId: settings.account_id,\r\n                    };\r\n\r\n                    if (settings.merchant_descriptor && settings.merchant_phone) {\r\n                        tokenizationOptions.merchantDescriptor = {\r\n                            dynamicDescriptor: settings.merchant_descriptor,\r\n                            phone: settings.merchant_phone,\r\n                        }\r\n                    }\r\n\r\n                    tokenizationOptions.customerDetails = {\r\n                        holderName: customer_first_name + ' ' + customer_last_name,\r\n                        billingDetails: {\r\n                            nickName: \"Home\",\r\n                            zip: billing_zip,\r\n                            country: billing_country,\r\n                        },\r\n                        profile: {\r\n                            firstName: customer_first_name,\r\n                            lastName: customer_last_name,\r\n                            email: customer_email,\r\n                            locale: settings.locale,\r\n                            phone: billing_phone,\r\n                        }\r\n                    };\r\n\r\n                    let holderNameInput = document.getElementById('holderNameInput');\r\n                    let holderName = holderNameInput && holderNameInput.value &&\r\n                        holderNameInput.value.length && holderNameInput.value.length >= 2 &&\r\n                        holderNameInput.value.length <= 160 ? holderNameInput.value : null;\r\n                    if (holderName) {\r\n                        tokenizationOptions.customerDetails.holderName = holderName;\r\n                    }\r\n\r\n                    if (billing_street) {\r\n                        tokenizationOptions.customerDetails.billingDetails.street = billing_street;\r\n                    }\r\n                    if (billing_street2) {\r\n                        tokenizationOptions.customerDetails.billingDetails.street2 = billing_street2;\r\n                    }\r\n                    if (billing_city) {\r\n                        tokenizationOptions.customerDetails.billingDetails.city = billing_city;\r\n                    }\r\n                    if (billing_state) {\r\n                        tokenizationOptions.customerDetails.billingDetails.state = billing_state;\r\n                    }\r\n                    if (billing_phone) {\r\n                        tokenizationOptions.customerDetails.billingDetails.phone = billing_phone;\r\n                    }\r\n\r\n                    hostedPaymentInstance\r\n                        .tokenize(tokenizationOptions)\r\n                        .then(result => {\r\n                            if (!result || !result.token) {\r\n                                throw 'Result failure';\r\n                            }\r\n\r\n                            const paymentData = {\r\n                                orderId: orderId,\r\n                                paymentMethod: 'CARD',\r\n                                transactionType: 'PAYMENT',\r\n                                paymentHandleToken: result.token,\r\n                                amount: paymentAmount,\r\n                                customerOperation: '',\r\n                                merchantRefNum: merch_ref_num,\r\n                            };\r\n\r\n                            let save_card_checkbox_checked = false;\r\n                            if (is_hosted_integration) {\r\n                                let save_card_checkbox = document.getElementById('paysafe_hosted_save_card');\r\n                                if (save_card_checkbox && save_card_checkbox.checked) {\r\n                                    save_card_checkbox_checked = true;\r\n                                }\r\n                            }\r\n\r\n                            if (save_card_checkbox_checked) {\r\n                                paymentData.save_card = true;\r\n                            }\r\n\r\n                            fetch(\r\n                                settings.register_url,\r\n                                {\r\n                                    method: 'POST',\r\n                                    credentials: 'same-origin',\r\n                                    headers: new Headers({\r\n                                        'Content-Type': 'application/json',\r\n                                    }),\r\n                                    body: JSON.stringify(paymentData),\r\n                                })\r\n                                .then(result => {\r\n                                    return result.json();\r\n                                })\r\n                                .then(json => {\r\n                                    window.location = json.redirect_url;\r\n                                })\r\n                                .catch((error) => {\r\n                                    // the BE call failed\r\n                                    const error_message = 'ERROR ' + error.code + ': ' + error.detailedMessage;\r\n                                    log_paysafe_error(error_message, []);\r\n                                    show_checkout_error(error_message);\r\n                                    show_checkout_error(__(\"The payment process failed. Please close this popup and try again\", \"paysafe-checkout\"), true);\r\n                                });\r\n                        })\r\n                        .catch(error => {\r\n                            // this means that the tokenization of the card form failed,\r\n                            // disable this payment method, show the error and refresh the page in 15 seconds\r\n                            const error_message = 'ERROR ' + error.code + ': ' + error.detailedMessage;\r\n                            log_paysafe_error(error_message, []);\r\n                            show_checkout_error(error_message);\r\n                            show_checkout_error(__('The payment process failed. Please reload the page and try again', 'paysafe-checkout'), true);\r\n                        });\r\n                } else {\r\n                    const checkout_options = {\r\n                        transactionSource: 'WooCommerceCheckout',\r\n                        amount: paymentAmount,\r\n                        transactionType: 'PAYMENT',\r\n                        currency: currency_code,\r\n                        merchantRefNum: merch_ref_num,\r\n                        environment: settings.test_mode ? 'TEST' : 'LIVE',\r\n                        displayPaymentMethods: [\r\n                            'card'\r\n                        ],\r\n                        paymentMethodDetails: {\r\n                            card: {\r\n                                accountId: settings.account_id,\r\n                            }\r\n                        },\r\n                        threeDs: {\r\n                            merchantUrl: settings.checkout_url,\r\n                            deviceChannel: \"BROWSER\",\r\n                            messageCategory: \"PAYMENT\",\r\n                            authenticationPurpose: \"PAYMENT_TRANSACTION\",\r\n                            transactionIntent: \"GOODS_OR_SERVICE_PURCHASE\",\r\n                        },\r\n                        locale: settings.locale,\r\n                    };\r\n\r\n                    if (settings.merchant_descriptor && settings.merchant_phone) {\r\n                        checkout_options.merchantDescriptor = {\r\n                            dynamicDescriptor: settings.merchant_descriptor,\r\n                            phone: settings.merchant_phone,\r\n                        }\r\n                    }\r\n\r\n                    if (customerSingleUseToken) {\r\n                        checkout_options.singleUseCustomerToken = customerSingleUseToken;\r\n                    } else {\r\n                        checkout_options.customer = {\r\n                            firstName: customer_first_name,\r\n                            lastName: customer_last_name,\r\n                            email: customer_email,\r\n                        };\r\n                        checkout_options.billingAddress = {\r\n                            nickName: \"Home\",\r\n                            zip: billing_zip,\r\n                            country: billing_country,\r\n                        };\r\n                        if (billing_street) {\r\n                            checkout_options.billingAddress.street = billing_street;\r\n                        }\r\n                        if (billing_street2) {\r\n                            checkout_options.billingAddress.street2 = billing_street2;\r\n                        }\r\n                        if (billing_city) {\r\n                            checkout_options.billingAddress.city = billing_city;\r\n                        }\r\n                        if (billing_state) {\r\n                            checkout_options.billingAddress.state = billing_state;\r\n                        }\r\n                    }\r\n\r\n                    paysafe.checkout.setup(\r\n                        settings.authorization,\r\n                        checkout_options,\r\n\r\n                        // resultCallback\r\n                        function (instance, error, result) {\r\n                            if (result && result.paymentHandleToken) {\r\n                                // Successfully Tokenized transaction, use result.paymentHandleToken to process a payment\r\n                                // add AJAX code to send token to your merchant server\r\n\r\n                                const paymentData = {\r\n                                    orderId: orderId,\r\n                                    paymentMethod: result.paymentMethod,\r\n                                    transactionType: result.transactionType,\r\n                                    paymentHandleToken: result.paymentHandleToken,\r\n                                    amount: result.amount,\r\n                                    customerOperation: result.customerOperation,\r\n                                    merchantRefNum: checkout_options.merchantRefNum,\r\n                                };\r\n\r\n                                fetch(\r\n                                    settings.register_url,\r\n                                    {\r\n                                        method: 'POST',\r\n                                        credentials: 'same-origin',\r\n                                        headers: new Headers({\r\n                                            'Content-Type': 'application/json',\r\n                                        }),\r\n                                        body: JSON.stringify(paymentData),\r\n                                    })\r\n                                    .then(result => {\r\n                                        return result.json();\r\n                                    })\r\n                                    .then(json => {\r\n                                        if (json.status === 'success') {\r\n                                            instance.showSuccessScreen(__(\"Your goods are now purchased. Expect them to be delivered in next 5 business days.\", \"paysafe-checkout\"));\r\n                                        } else {\r\n                                            log_paysafe_error(__(\"Payment failed. Popup was closed without a correct end message!\", \"paysafe-checkout\"), {'pace': 1});\r\n                                            instance.showFailureScreen(__(\"The payment process failed. Please close this popup and try again\", \"paysafe-checkout\"));\r\n                                        }\r\n\r\n                                        next_page = json.redirect_url;\r\n                                    })\r\n                                    .catch((error) => {\r\n                                        // the BE call failed\r\n                                        log_paysafe_error(__(\"Payment failed. Popup was closed without a correct end message!\", \"paysafe-checkout\"), {'pace': 2});\r\n                                        instance.showFailureScreen(__(\"The payment process failed. Please close this popup and try again\", \"paysafe-checkout\"));\r\n                                    });\r\n                            } else {\r\n                                let errorMessage = '';\r\n                                if (error) {\r\n                                    if (error.code) {\r\n                                        errorMessage += error.code + ' ';\r\n                                    }\r\n                                    if (error.message) {\r\n                                        errorMessage += error.message + ' ';\r\n                                    }\r\n                                    if (error.detailedMessage) {\r\n                                        errorMessage += error.detailedMessage;\r\n                                    }\r\n                                }\r\n\r\n                                // Tokenization failed and Payment Handled moved to failed Status\r\n                                if (instance) {\r\n                                    log_paysafe_error(__(\"Payment failed. Popup was closed without a correct end message!\", \"paysafe-checkout\") + ' ' + errorMessage, {'pace': 3});\r\n                                    instance.showFailureScreen(__(\"The payment was declined. Please, try again with the same or another payment method.\" + ' ' + errorMessage, \"paysafe-checkout\"));\r\n                                } else {\r\n                                    master_error = __('The payment was declined. Please, try again with the same or another payment method.', \"paysafe-checkout\");\r\n                                    if (error && error.code && error.detailedMessage) {\r\n                                        master_error += \"<br />\" + ' ' + error.code + ' ' + error.detailedMessage;\r\n                                    }\r\n\r\n                                    log_paysafe_error(master_error, {'pace': 4});\r\n                                    show_checkout_error(master_error);\r\n                                }\r\n                            }\r\n                        },\r\n\r\n                        // closeCallback\r\n                        function (stage, expired) {\r\n                            if (stage) {\r\n                                // Depending upon the stage take different actions\r\n                                switch (stage) {\r\n                                    case \"PAYMENT_HANDLE_NOT_CREATED\" :\r\n                                        // don't show any errors,\r\n                                        // as the customer choose to close the popup window\r\n                                        log_paysafe_error(__('Payment failed. Popup was closed without a correct end message!', 'paysafe-checkout'), {'stage': stage, 'expired': expired});\r\n\r\n                                        window.location.reload();\r\n                                        break;\r\n\r\n                                    case \"PAYMENT_HANDLE_CREATED\" :\r\n                                    case \"PAYMENT_HANDLE_REDIRECT\" :\r\n                                    case \"PAYMENT_HANDLE_PAYABLE\" :\r\n                                        // in all these cases the user closed the popup after the payment\r\n                                        if (null !== next_page) {\r\n                                            window.location = next_page;\r\n                                            return;\r\n                                        }\r\n\r\n                                        // reload the cart page, something must have happened\r\n                                        window.location.reload();\r\n                                        break;\r\n\r\n                                    default:\r\n                                }\r\n                            } else {\r\n                                // Add action in case Checkout is expired\r\n                                // the popup expired,\r\n                                // lets reload the page so that the customer\r\n                                // can try another payment option\r\n                                log_paysafe_error(__('Payment failed. Popup was closed without a correct end message!', 'paysafe-checkout'), {'stage': stage, 'expired': expired})\r\n                                window.location.reload();\r\n                            }\r\n                        },\r\n\r\n                        // riskCallback\r\n                        function (instance, amount, paymentMethod) {\r\n                            if (amount === paymentAmount) {\r\n                                instance.accept();\r\n                            } else {\r\n                                log_paysafe_error(__(\"Amount is not the value expected\", \"paysafe-checkout\"));\r\n                                instance.decline(__(\"Amount is not the value expected\", \"paysafe-checkout\"));\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            } else {\r\n                log_paysafe_error(__(\"Payment failed. Popup was closed without a correct end message!\", \"paysafe-checkout\"), {'pace': 5});\r\n\r\n                return {\r\n                    type: emitResponse.responseTypes.ERROR,\r\n                    message: __(\"The payment process failed. Please close this popup and try again\", \"paysafe-checkout\"),\r\n                }\r\n            }\r\n\r\n            return response;\r\n        });\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        };\r\n    }, [\r\n        emitResponse.responseTypes.ERROR,\r\n        emitResponse.responseTypes.SUCCESS,\r\n        '',\r\n        [],\r\n        onCheckoutSuccess,\r\n    ]);\r\n\r\n    let descriptionForDisplay = [];\r\n\r\n    if (settings.description) {\r\n        descriptionForDisplay.push(\r\n            <div>{ decodeEntities( settings.description || '' ) }</div>\r\n        );\r\n    }\r\n\r\n    if (settings.description && settings.test_mode) {\r\n        descriptionForDisplay.push(<hr></hr>);\r\n    }\r\n\r\n    if( settings.test_mode ) {\r\n        descriptionForDisplay.push(\r\n            <div style={{ textAlign: \"justify\", marginTop: \"5px\" }} >\r\n                <span>{\r\n                    __(\r\n                        'Paysafe Checkout is in TEST MODE. Use the test Visa card 4000000000001091 with any expiry date, CVC, email, or OTP token. Important notice: Please use only TEST CARDS for testing. You can find other test cards ',\r\n                        'paysafe-checkout'\r\n                    )\r\n                }</span>\r\n                <a href=\"https://developer.paysafe.com/en/api-docs/cards/test-and-go-live/test-cards/\" target=\"_blank\">{\r\n                    __( 'here. ', 'paysafe-checkout')\r\n                } </a>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if( settings.test_mode && is_hosted_integration ) {\r\n        descriptionForDisplay.push(<p></p>);\r\n    }\r\n\r\n    if (is_hosted_integration) {\r\n        descriptionForDisplay.push(wp.element.RawHTML({ children: settings.integration_hosted_form }));\r\n    } else {\r\n        if (settings.is_subscription_payment) {\r\n            descriptionForDisplay.push(\r\n                <p style={{ fontSize: \"0.8em\", marginBottom: \"0\" }}>\r\n                    <b>{__('Note:', 'paysafe-checkout')}</b>\r\n                    {__('This order includes a subscription.', 'paysafe-checkout')}\r\n                    {__('By proceeding with payment, your card details will be securely saved for future recurring payments.', 'paysafe-checkout')}\r\n                    <br />\r\n                    {__('Card data is stored and processed securely by Paysafe in compliance with PCI DSS standards and according to the merchant’s', 'paysafe-checkout')}\r\n                    &nbsp;\r\n                    {__('Terms and Conditions', 'paysafe-checkout')}\r\n                    &nbsp;\r\n                    {__('and', 'paysafe-checkout')}\r\n                    &nbsp;\r\n                    {__('Privacy Policy.', 'paysafe-checkout')}\r\n                </p>\r\n            );\r\n        }\r\n    }\r\n\r\n    return descriptionForDisplay;\r\n};\r\n\r\nconst SavedTokenComponent = ( props ) => {\r\n    const { eventRegistration, emitResponse } = props;\r\n    const { onCheckoutSuccess, onPaymentSetup } = eventRegistration;\r\n\r\n    useEffect(() => {\r\n        if (!cvv_form_initialized) {\r\n            cvv_form_initialized = true;\r\n            init_paysafe_cvv_verification();\r\n        }\r\n\r\n        const unsubscribe = onPaymentSetup( () => {\r\n            if (is_cvv_verification) {\r\n                if (cvv_verification_instance) {\r\n                    // check if the CVV verification is filled in and the data is valid\r\n                    let is_tokenization_available = cvv_verification_instance.areAllFieldsValid();\r\n                    if (!is_tokenization_available) {\r\n                        log_paysafe_error(__(\"The payment process failed. No CVV entered\", \"paysafe-checkout\"), {'tokenization_stage': 2});\r\n                        return {\r\n                            type: emitResponse.responseTypes.ERROR,\r\n                            message: __(\"The payment process failed. Please enter your saved card CVV and try again\", \"paysafe-checkout\"),\r\n                        };\r\n                    }\r\n                } else {\r\n                    log_paysafe_error(__(\"The payment process failed.\", \"paysafe-checkout\"), {'tokenization_stage': 3});\r\n                    return {\r\n                        type: emitResponse.responseTypes.ERROR,\r\n                        message: __(\"The payment process failed. Please reload the page and try again\", \"paysafe-checkout\"),\r\n                    };\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        };\r\n    }, [\r\n        emitResponse.responseTypes.ERROR,\r\n        emitResponse.responseTypes.SUCCESS,\r\n        onPaymentSetup,\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onCheckoutSuccess( (response) => {\r\n            const orderId = response.orderId;\r\n\r\n            paymentAmount = parseInt(currentCartData.cartTotals.total_price);\r\n\r\n            if (orderId && paymentAmount) {\r\n                const single_use_token = response && response.processingResponse && response.processingResponse.paymentDetails && response.processingResponse.paymentDetails.single_use_token ? response.processingResponse.paymentDetails.single_use_token : '';\r\n                const paysafe_token = response && response.processingResponse && response.processingResponse.paymentDetails && response.processingResponse.paymentDetails.paysafe_token ? response.processingResponse.paymentDetails.paysafe_token : '';\r\n                const merch_ref_num = response && response.processingResponse && response.processingResponse.paymentDetails && response.processingResponse.paymentDetails.merch_ref_num ? response.processingResponse.paymentDetails.merch_ref_num : '';\r\n                const redirect_url = response && response.processingResponse && response.processingResponse.paymentDetails && response.processingResponse.paymentDetails.redirect ? response.processingResponse.paymentDetails.redirect : null;\r\n\r\n                // in case of BE token payments, we are done at this point\r\n                // redirect to success page\r\n                if (redirect_url) {\r\n                    window.location = redirect_url;\r\n                    return {\r\n                        type: emitResponse.responseTypes.SUCCESS,\r\n                    };\r\n                }\r\n\r\n                let currency_code = currentCartData.cartTotals.currency_code;\r\n                let customer_first_name = currentCartData.billingAddress.first_name;\r\n                let customer_last_name = currentCartData.billingAddress.last_name;\r\n                let customer_email = currentCartData.billingAddress.email;\r\n\r\n                let billing_street = currentCartData.billingAddress.address_1;\r\n                let billing_street2 = currentCartData.billingAddress.address_2;\r\n                let billing_city = currentCartData.billingAddress.city;\r\n                let billing_zip = currentCartData.billingAddress.postcode;\r\n                let billing_state = currentCartData.billingAddress.state;\r\n                let billing_country = currentCartData.billingAddress.country;\r\n                let billing_phone = currentCartData.billingAddress.phone;\r\n\r\n                let tokenization_options = {\r\n                    transactionSource: 'WooCommerceJs',\r\n                    amount: paymentAmount,\r\n                    transactionType: 'PAYMENT',\r\n                    currency: currency_code,\r\n                    merchantRefNum: merch_ref_num,\r\n                    environment: settings.test_mode ? 'TEST' : 'LIVE',\r\n                    threeDs: {\r\n                        merchantUrl: settings.checkout_url,\r\n                        deviceChannel: \"BROWSER\",\r\n                        messageCategory: \"PAYMENT\",\r\n                        authenticationPurpose: \"PAYMENT_TRANSACTION\",\r\n                        transactionIntent: \"GOODS_OR_SERVICE_PURCHASE\",\r\n                        profile: {\r\n                            email: settings.user_email,\r\n                        },\r\n                    },\r\n                    paymentType: 'CARD',\r\n                    accountId: settings.account_id,\r\n                    singleUseCustomerToken: single_use_token,\r\n                    paymentTokenFrom: paysafe_token,\r\n                };\r\n\r\n                if (settings.merchant_descriptor && settings.merchant_phone) {\r\n                    tokenization_options.merchantDescriptor = {\r\n                        dynamicDescriptor: settings.merchant_descriptor,\r\n                        phone: settings.merchant_phone,\r\n                    }\r\n                }\r\n\r\n                tokenization_options.customerDetails = {\r\n                    holderName: customer_first_name + ' ' + customer_last_name,\r\n                    billingDetails: {\r\n                        nickName: \"Home\",\r\n                        zip: billing_zip,\r\n                        country: billing_country,\r\n                    },\r\n                    profile: {\r\n                        firstName: customer_first_name,\r\n                        lastName: customer_last_name,\r\n                        email: customer_email,\r\n                        locale: settings.locale,\r\n                        phone: billing_phone,\r\n                    }\r\n                };\r\n\r\n                if (billing_street) {\r\n                    tokenization_options.customerDetails.billingDetails.street = billing_street;\r\n                }\r\n                if (billing_street2) {\r\n                    tokenization_options.customerDetails.billingDetails.street2 = billing_street2;\r\n                }\r\n                if (billing_city) {\r\n                    tokenization_options.customerDetails.billingDetails.city = billing_city;\r\n                }\r\n                if (billing_state) {\r\n                    tokenization_options.customerDetails.billingDetails.state = billing_state;\r\n                }\r\n                if (billing_phone) {\r\n                    tokenization_options.customerDetails.billingDetails.phone = billing_phone;\r\n                }\r\n\r\n                cvv_verification_instance\r\n                    .tokenize(tokenization_options)\r\n                    .then(result => {\r\n                        if (!result || !result.token) {\r\n                            throw 'Result failure';\r\n                        }\r\n\r\n                        const paymentData = {\r\n                            orderId: orderId,\r\n                            paymentMethod: 'CARD',\r\n                            transactionType: 'PAYMENT',\r\n                            paymentHandleToken: result.token,\r\n                            amount: paymentAmount,\r\n                            customerOperation: '',\r\n                            merchantRefNum: merch_ref_num,\r\n                        };\r\n\r\n                        fetch(\r\n                            settings.register_url,\r\n                            {\r\n                                method: 'POST',\r\n                                credentials: 'same-origin',\r\n                                headers: new Headers({\r\n                                    'Content-Type': 'application/json',\r\n                                }),\r\n                                body: JSON.stringify(paymentData),\r\n                            })\r\n                            .then(result => {\r\n                                return result.json();\r\n                            })\r\n                            .then(json => {\r\n                                if (json.error_message) {\r\n                                    // the BE call failed\r\n                                    log_paysafe_error(json.error_message, {'tokenization_stage': 1});\r\n                                    show_checkout_error(json.error_message);\r\n                                    show_checkout_error(__('The payment process failed. Please reload the page and try again', 'paysafe-checkout'), true);\r\n                                } else {\r\n                                    window.location = json.redirect_url;\r\n                                }\r\n                            })\r\n                            .catch((error) => {\r\n                                // the BE call failed\r\n                                log_paysafe_error(__(\"The payment process failed.\", \"paysafe-checkout\"), {'tokenization_stage': 1});\r\n                                show_checkout_error(__(\"The payment process failed. Please close this popup and try again\", \"paysafe-checkout\"));\r\n                            });\r\n                    })\r\n                    .catch(error => {\r\n                        // this means that the tokenization of the card form failed,\r\n                        // disable this payment method, show the error and refresh the page in 15 seconds\r\n                        const error_message = 'ERROR ' + error.code + ': ' + error.detailedMessage;\r\n                        log_paysafe_error(error_message, []);\r\n                        show_checkout_error(error_message);\r\n                        show_checkout_error(__('The payment process failed. Please reload the page and try again', 'paysafe-checkout'), true);\r\n                    });\r\n            }\r\n\r\n            return response;\r\n        });\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        };\r\n    }, [\r\n        emitResponse.responseTypes.ERROR,\r\n        emitResponse.responseTypes.SUCCESS,\r\n        '',\r\n        [],\r\n        onCheckoutSuccess,\r\n    ]);\r\n\r\n    if (is_cvv_verification && typeof paysafe !== 'undefined' && typeof paysafe.fields !== 'undefined') {\r\n        return [\r\n            <div id=\"cvv-verification-container\">\r\n                <b>{__('CVV', 'paysafe-checkout')}</b>\r\n                <div id=\"holderName\" className=\"paysafe-input-field optional-field\" style={{display: \"none\"}}></div>\r\n                <div id=\"cardNumber\" className=\"paysafe-input-field optional-field\" style={{display: \"none\"}}></div>\r\n                <div id=\"expiryDate\" className=\"paysafe-input-field optional-field\" style={{display: \"none\"}}></div>\r\n                <div className=\"paysafe-cc-form-exp-cvv-row\">\r\n                    <div className=\"paysafe-cc-form-exp-cvv-box1\"></div>\r\n                    <div className=\"paysafe-cc-form-exp-cvv-box2\">\r\n                        <div id=\"cvv\" className=\"paysafe-input-field\"></div>\r\n                    </div>\r\n                    <div className=\"paysafe-cc-form-exp-cvv-box3\">\r\n                        <img className=\"paysafe-cc-form-cvv-image\"\r\n                             src={settings.paysafe_base_url + \"assets/img/cvv.svg\"}\r\n                             alt=\"CVV\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ];\r\n    }\r\n\r\n    return [\r\n        <div id=\"cvv-verification-container\">\r\n            <div id=\"holderName\" className=\"paysafe-input-field optional-field\"></div>\r\n            <div id=\"cardNumber\" className=\"paysafe-input-field optional-field\"></div>\r\n            <div id=\"expiryDate\" className=\"paysafe-input-field optional-field\"></div>\r\n            <div id=\"cvv\" className=\"paysafe-input-field optional-field\"></div>\r\n        </div>\r\n    ];\r\n};\r\n\r\nconst PaysafePayments = {\r\n    name: paymentMethodId,\r\n    paymentMethodId: paymentMethodId,\r\n    label: <Label />,\r\n    content: <Content />,\r\n    edit: <Content />,\r\n    savedTokenComponent: <SavedTokenComponent />,\r\n    canMakePayment: ( cartData => {\r\n        currentCartData = cartData;\r\n\r\n        return true;\r\n    }),\r\n    ariaLabel: label,\r\n    supports: {\r\n        features: settings.supports,\r\n    },\r\n};\r\n\r\nregisterPaymentMethod( PaysafePayments );\r\n"],"names":["sprintf","__","registerPaymentMethod","decodeEntities","getSetting","useEffect","paymentMethodId","defaultLabel","settings","log_paysafe_error","message","context","log_errors","log_error_endpoint","fetch","method","credentials","headers","Headers","body","JSON","stringify","catch","error","is_hosted_integration","integration_type","is_cvv_verification","cvv_verification","label","title","icons","id","src","icon","alt","Label","createElement","className","paymentAmount","currentCartData","next_page","show_checkout_error","error_message","dont_clear_messages","woo_errors","document","getElementsByClassName","length","notice_wrappers","notice_wrapper","appendChild","error_li","getElementById","setAttribute","innerHTML","window","scrollTo","top","left","behavior","hostedPaymentInstance","init_paysafe_hosted_integration","jQuery","cvv_form_initialized","paysafeOptions","currencyCode","currency_code","environment","test_mode","transactionSource","fields","cardNumber","selector","placeholder","separator","expiryDate","cvv","optional","style","input","accounts","default","account_id","paysafe","setup","authorization","then","instance","show","paymentMethods","card","code","detailedMessage","cvv_verification_instance","init_paysafe_cvv_verification","paysafe_js_options","parseInt","Content","props","eventRegistration","emitResponse","onCheckoutSuccess","onPaymentSetup","unsubscribe","response","isTokenizationAvailable","areAllFieldsValid","holderNameInput","isHolderNameValid","value","type","responseTypes","SUCCESS","ERROR","orderId","customerSingleUseToken","processingResponse","paymentDetails","single_use_token","merch_ref_num","master_error","cartTotals","total_price","customer_first_name","billingAddress","first_name","customer_last_name","last_name","customer_email","email","billing_street","address_1","billing_street2","address_2","billing_city","city","billing_zip","postcode","billing_state","state","billing_country","country","billing_phone","phone","tokenizationOptions","amount","transactionType","currency","merchantRefNum","threeDs","merchantUrl","checkout_url","deviceChannel","messageCategory","authenticationPurpose","transactionIntent","profile","user_email","paymentType","accountId","merchant_descriptor","merchant_phone","merchantDescriptor","dynamicDescriptor","customerDetails","holderName","billingDetails","nickName","zip","firstName","lastName","locale","street","street2","tokenize","result","token","paymentData","paymentMethod","paymentHandleToken","customerOperation","save_card_checkbox_checked","save_card_checkbox","checked","save_card","register_url","json","location","redirect_url","checkout_options","displayPaymentMethods","paymentMethodDetails","singleUseCustomerToken","customer","checkout","status","showSuccessScreen","showFailureScreen","errorMessage","stage","expired","reload","accept","decline","descriptionForDisplay","description","push","textAlign","marginTop","href","target","wp","element","RawHTML","children","integration_hosted_form","is_subscription_payment","fontSize","marginBottom","SavedTokenComponent","is_tokenization_available","paysafe_token","redirect","tokenization_options","paymentTokenFrom","display","paysafe_base_url","PaysafePayments","name","content","edit","savedTokenComponent","canMakePayment","cartData","ariaLabel","supports","features"],"sourceRoot":""}